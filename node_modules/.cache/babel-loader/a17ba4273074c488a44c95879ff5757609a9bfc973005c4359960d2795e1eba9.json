{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import WeatherInfo from\"./WeatherInfo\";import WeatherForecast from\"./WeatherForecast\";import ScaleLoader from\"react-spinners/ScaleLoader\";import\"@fortawesome/fontawesome-free/css/all.min.css\";import axios from\"axios\";import\"./Weather.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Weather(props){const[weatherData,setWeatherData]=useState({ready:false});const[city,setCity]=useState(props.defaultCity);function handleResponse(response){setWeatherData({ready:true,coordinates:response.data.coordinates,temperature:response.data.temperature.current,humidity:response.data.temperature.humidity,date:new Date(response.data.time*1000),description:response.data.condition.description,icon:response.data.condition.icon,wind:response.data.wind.speed,city:response.data.city});}function handleSubmit(event){event.preventDefault();search();}function handleCityChange(event){setCity(event.target.value);}function search(){const apiKey=\"842b36d55cb28eba74a018029d56b04c\";let apiUrl=\"https://api.shecodes.io/weather/v1/current?query=\".concat(city,\"&key=\").concat(apiKey,\"&units=metric\");axios.get(apiUrl).then(handleResponse);}if(weatherData.ready){return/*#__PURE__*/_jsxs(\"div\",{className:\"Weather\",children:[/*#__PURE__*/_jsx(\"form\",{className:\"input-group flex-nowrap\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search city\",onChange:handleCityChange}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-btn\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",style:{backgroundColor:\"#e8e8e8\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})})]})}),/*#__PURE__*/_jsx(WeatherInfo,{data:weatherData}),/*#__PURE__*/_jsx(WeatherForecast,{coordinates:weatherData.coordinates,city:weatherData.city})]});}else{search();return/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",children:/*#__PURE__*/_jsx(ScaleLoader,{color:\"#4050d2\",height:20})});}}","map":{"version":3,"names":["React","useState","useEffect","WeatherInfo","WeatherForecast","ScaleLoader","axios","jsx","_jsx","jsxs","_jsxs","Weather","props","weatherData","setWeatherData","ready","city","setCity","defaultCity","handleResponse","response","coordinates","data","temperature","current","humidity","date","Date","time","description","condition","icon","wind","speed","handleSubmit","event","preventDefault","search","handleCityChange","target","value","apiKey","apiUrl","concat","get","then","className","children","onSubmit","type","placeholder","onChange","style","backgroundColor","color","height"],"sources":["D:/She codes/New folder (2)/weather/src/Weather.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport WeatherInfo from \"./WeatherInfo\";\r\nimport WeatherForecast from \"./WeatherForecast\";\r\nimport ScaleLoader from \"react-spinners/ScaleLoader\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport axios from \"axios\";\r\nimport \"./Weather.css\";\r\n\r\nexport default function Weather(props) {\r\n  const [weatherData, setWeatherData] = useState({ ready: false });\r\n  const [city, setCity] = useState(props.defaultCity);\r\n\r\n  function handleResponse(response) {\r\n    setWeatherData({\r\n      ready: true,\r\n      coordinates: response.data.coordinates,\r\n      temperature: response.data.temperature.current,\r\n      humidity: response.data.temperature.humidity,\r\n      date: new Date(response.data.time * 1000),\r\n      description: response.data.condition.description,\r\n      icon: response.data.condition.icon,\r\n      wind: response.data.wind.speed,\r\n      city: response.data.city,\r\n    });\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    search();\r\n  }\r\n\r\n  function handleCityChange(event) {\r\n    setCity(event.target.value);\r\n  }\r\n\r\n  function search() {\r\n    const apiKey = \"842b36d55cb28eba74a018029d56b04c\";\r\n    let apiUrl = `https://api.shecodes.io/weather/v1/current?query=${city}&key=${apiKey}&units=metric`;\r\n\r\n    axios.get(apiUrl).then(handleResponse);\r\n  }\r\n\r\n  if (weatherData.ready) {\r\n    return (\r\n      <div className=\"Weather\">\r\n        <form className=\"input-group flex-nowrap\" onSubmit={handleSubmit}>\r\n          <div className=\"input-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Search city\"\r\n              onChange={handleCityChange}\r\n            />\r\n            <div className=\"input-group-btn\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn\"\r\n                style={{ backgroundColor: \"#e8e8e8\" }}\r\n              >\r\n                <i className=\"fas fa-search\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n        <WeatherInfo data={weatherData} />\r\n        <WeatherForecast\r\n          coordinates={weatherData.coordinates}\r\n          city={weatherData.city}\r\n        />\r\n      </div>\r\n    );\r\n  } else {\r\n    search();\r\n    return (\r\n      <div className=\"spinner\">\r\n        <ScaleLoader color=\"#4050d2\" height={20} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}