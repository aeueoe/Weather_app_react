{"ast":null,"code":"import WeatherInfo from\"./WeatherInfo\";import WeatherForecast from\"./WeatherForecast\";import ScaleLoader from\"react-spinners/ScaleLoader\";import\"@fortawesome/fontawesome-free/css/all.min.css\";import axios from\"axios\";import\"./Weather.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Weather(props){const[weatherData,setWeatherData]=useState({ready:false});const[city,setCity]=useState(props.defaultCity);function handleResponse(response){setWeatherData({ready:true,coordinates:response.data.coordinates,temperature:response.data.temperature.current,humidity:response.data.temperature.humidity,pressure:response.data.temperature.pressure,feels:response.data.temperature.feels_like,date:new Date(response.data.time*1000),description:response.data.condition.description,icon:response.data.condition.icon,wind:response.data.wind.speed,city:response.data.city});}function handleSubmit(event){event.preventDefault();search();}function handleCityChange(event){setCity(event.target.value);}function search(){const apiKey=\"0e6edd8o3a1bf93cac4e5tc0566fb691\";let apiUrl=\"https://api.shecodes.io/weather/v1/current?query=\".concat(city,\"&key=\").concat(apiKey,\"&units=metric\");axios.get(apiUrl).then(handleResponse);}if(weatherData.ready){return/*#__PURE__*/_jsxs(\"div\",{className:\"Weather \",children:[/*#__PURE__*/_jsx(\"form\",{className:\"input-group flex-nowrap\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search city\",className:\"form-control search-input\",onChange:handleCityChange}),\"\\xA0\",/*#__PURE__*/_jsx(\"div\",{className:\"input-group-btn\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",style:{backgroundColor:\"#e8e8e8\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})})]})}),/*#__PURE__*/_jsx(WeatherInfo,{data:weatherData}),/*#__PURE__*/_jsx(WeatherForecast,{coordinates:weatherData.coordinates,city:weatherData.city})]});}else{search();return/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",children:/*#__PURE__*/_jsx(ScaleLoader,{color:\"#4050d2\",height:20})});}}","map":{"version":3,"names":["WeatherInfo","WeatherForecast","ScaleLoader","axios","jsx","_jsx","jsxs","_jsxs","Weather","props","weatherData","setWeatherData","useState","ready","city","setCity","defaultCity","handleResponse","response","coordinates","data","temperature","current","humidity","pressure","feels","feels_like","date","Date","time","description","condition","icon","wind","speed","handleSubmit","event","preventDefault","search","handleCityChange","target","value","apiKey","apiUrl","concat","get","then","className","children","onSubmit","type","placeholder","onChange","style","backgroundColor","color","height"],"sources":["D:/She codes/SCplus/weather_app_react/src/Weather.js"],"sourcesContent":["import WeatherInfo from \"./WeatherInfo\";\r\nimport WeatherForecast from \"./WeatherForecast\";\r\nimport ScaleLoader from \"react-spinners/ScaleLoader\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport axios from \"axios\";\r\nimport \"./Weather.css\";\r\n\r\nexport default function Weather(props) {\r\n  const [weatherData, setWeatherData] = useState({ ready: false });\r\n  const [city, setCity] = useState(props.defaultCity);\r\n\r\n  function handleResponse(response) {\r\n    setWeatherData({\r\n      ready: true,\r\n      coordinates: response.data.coordinates,\r\n      temperature: response.data.temperature.current,\r\n      humidity: response.data.temperature.humidity,\r\n      pressure: response.data.temperature.pressure,\r\n      feels: response.data.temperature.feels_like,\r\n      date: new Date(response.data.time * 1000),\r\n      description: response.data.condition.description,\r\n      icon: response.data.condition.icon,\r\n      wind: response.data.wind.speed,\r\n      city: response.data.city,\r\n    });\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    search();\r\n  }\r\n\r\n  function handleCityChange(event) {\r\n    setCity(event.target.value);\r\n  }\r\n\r\n  function search() {\r\n    const apiKey = \"0e6edd8o3a1bf93cac4e5tc0566fb691\";\r\n    let apiUrl = `https://api.shecodes.io/weather/v1/current?query=${city}&key=${apiKey}&units=metric`;\r\n\r\n    axios.get(apiUrl).then(handleResponse);\r\n  }\r\n\r\n  if (weatherData.ready) {\r\n    return (\r\n      <div className=\"Weather \">\r\n        <form className=\"input-group flex-nowrap\" onSubmit={handleSubmit}>\r\n          <div className=\"input-group\">\r\n            <input\r\n              type=\"search\"\r\n              placeholder=\"Search city\"\r\n              className=\"form-control search-input\"\r\n              onChange={handleCityChange}\r\n            />\r\n            &nbsp;\r\n            <div className=\"input-group-btn\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn\"\r\n                style={{ backgroundColor: \"#e8e8e8\" }}\r\n              >\r\n                <i className=\"fas fa-search\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n        <WeatherInfo data={weatherData} />\r\n        <WeatherForecast\r\n          coordinates={weatherData.coordinates}\r\n          city={weatherData.city}\r\n        />\r\n      </div>\r\n    );\r\n  } else {\r\n    search();\r\n    return (\r\n      <div className=\"spinner\">\r\n        <ScaleLoader color=\"#4050d2\" height={20} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}